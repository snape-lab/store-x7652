---
import { navLinks } from '../../content/page';
import { getAllProducts } from '../../content/cosmic';
import MultipleProductDisplayPagesLayout from '../../layouts/MultipleProductDisplayPagesLayout.astro';

// export const getStaticPaths = () => {
// 	return navLinks.map((navLink) => ({
// 		params: { category: navLink.link },
// 	}));
// };

export const prerender = false;

const { category } = Astro.params;

const pageTitle = navLinks.find(
	(navLink) => navLink.link === `/${category}`
)?.name;

const products = await getAllProducts(category);
---

<MultipleProductDisplayPagesLayout title={pageTitle} products={products} />
